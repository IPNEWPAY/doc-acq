"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[414],{40614:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>s,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"pct/apiresolve/index","title":"API Resolve","description":"La construccion del API Resolve se basa en la, CIMPRA 525, CIMPRA 530, CIMPRA 535","source":"@site/docs/pct/apiresolve/index.md","sourceDirName":"pct/apiresolve","slug":"/pct/apiresolve/","permalink":"/doc-acq/pct/apiresolve/","draft":false,"unlisted":false,"editUrl":"https://github.com/shellhub-io/docs/tree/master/docs/pct/apiresolve/index.md","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Escaneo del QR","permalink":"/doc-acq/pct/Escaneo QR"},"next":{"title":"Consulta de Datos Adicionales al Aceptador","permalink":"/doc-acq/pct/DatosAdicionales"}}');var a=o(74848),r=o(28453);const s={sidebar_position:5},d="API Resolve",l={},c=[{value:"Indicador en el codigo QR",id:"indicador-en-el-codigo-qr",level:2},{value:"Ausencias de datos en el QR",id:"ausencias-de-datos-en-el-qr",level:2},{value:"\xbfQue informacion proporciona API Resolve?",id:"que-informacion-proporciona-api-resolve",level:2},{value:"Ejemplo",id:"ejemplo",level:2}];function t(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"api-resolve",children:"API Resolve"})}),"\n",(0,a.jsx)(n.admonition,{type:"info",children:(0,a.jsxs)(n.p,{children:["La construccion del API Resolve se basa en la, ",(0,a.jsx)(n.a,{href:"https://www.bcra.gob.ar/pdfs/sistemasfinancierosydepagos/SNP3525.pdf",children:"CIMPRA 525"}),", ",(0,a.jsx)(n.a,{href:"https://www.bcra.gob.ar/Pdfs/SistemasFinancierosYdePagos/Boletin_CIMPRA_530.pdf",children:"CIMPRA 530"}),", ",(0,a.jsx)(n.a,{href:"https://www.bcra.gob.ar/Pdfs/SistemasFinancierosYdePagos/Boletin_CIMPRA_535.pdf",children:"CIMPRA 535"})]})}),"\n",(0,a.jsx)(n.p,{children:"La API Resolve es un componente fundamental en el ecosistema de pagos con transferencia en Argentina, especialmente dentro del marco de Transferencias 3.0. Su funci\xf3n principal es proveer informaci\xf3n adicional sobre una transacci\xf3n de pago cuando esta no se encuentra completamente contenida en el c\xf3digo QR. Esta API se activa cuando un c\xf3digo QR din\xe1mico indica que requiere informaci\xf3n adicional para completar la transacci\xf3n."}),"\n",(0,a.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Usuario\n    participant Billetera\n    participant APIResolve\n    participant Aceptador\n\n    Usuario->>Billetera: Escanea QR\n    Billetera->>Billetera: Detecta tag 99 = 01\n    Billetera->>APIResolve: GET /instant-payments/qr_id/{qr_id}\n    APIResolve->>Aceptador: Consulta datos del QR\n    Aceptador--\x3e>APIResolve: Devuelve datos operativos\n    APIResolve--\x3e>Billetera: Respuesta con datos del QR\n    Billetera->>Usuario: Muestra info del comercio"}),"\n",(0,a.jsx)(n.h2,{id:"indicador-en-el-codigo-qr",children:"Indicador en el codigo QR"}),"\n",(0,a.jsx)(n.p,{children:'El c\xf3digo QR incluye un subcampo (99) dentro del campo de "Merchant Account Information" que indica si se utiliza o no la API Resolve. Un valor de "01" en este subcampo indica que la API debe ser llamada. Si el valor es "00", la API no se debe usar.'}),"\n",(0,a.jsx)(n.h2,{id:"ausencias-de-datos-en-el-qr",children:"Ausencias de datos en el QR"}),"\n",(0,a.jsx)(n.p,{children:"Si el c\xf3digo QR no incluye toda la informaci\xf3n necesaria (como el monto exacto en un pago de monto abierto) para completar el pago, la API Resolve se utiliza para obtener los datos faltantes"}),"\n",(0,a.jsx)(n.h2,{id:"que-informacion-proporciona-api-resolve",children:"\xbfQue informacion proporciona API Resolve?"}),"\n",(0,a.jsx)(n.p,{children:"La API Resolve proporciona una variedad de datos que complementan la informaci\xf3n del c\xf3digo QR para permitir que una billetera digital procese un pago correctamente. Los datos se reciben en formato JSON y entre la informaci\xf3n que se retorna se encuentra:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"status"}),": Indica si el monto del pago es abierto o cerrado."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"open_amount: El monto del pago es abierto y debe ser ingresado por el usuario."}),"\n",(0,a.jsx)(n.li,{children:"closed_amount: El monto del pago est\xe1 predefinido en el c\xf3digo QR o en la informaci\xf3n que devuelve la API."}),"\n",(0,a.jsx)(n.li,{children:"pending: La informaci\xf3n no est\xe1 disponible, y se debe intentar de nuevo m\xe1s tarde."}),"\n",(0,a.jsx)(n.li,{children:"empty_order: La orden est\xe1 vac\xeda (por ejemplo, en un estacionamiento sin tiempo transcurrido)."}),"\n",(0,a.jsx)(n.li,{children:"unsupported_qr_code: El QR escaneado no es v\xe1lido."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Administrator"}),":  Incluye datos sobre el administrador del esquema de pago."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"identification_number: El CUIT del administrador del esquema de pago."}),"\n",(0,a.jsx)(n.li,{children:"name: Nombre del administrador del esquema de pago."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Collector"}),":  Proporciona detalles sobre el comercio que recibe el pago."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"identification_number: El CUIT del administrador del esquema de pago."}),"\n",(0,a.jsx)(n.li,{children:"name: Nombre del comercio."}),"\n",(0,a.jsx)(n.li,{children:"identification_number: N\xfamero de identificaci\xf3n del comercio (CUIT)."}),"\n",(0,a.jsx)(n.li,{children:"account: N\xfamero de cuenta del comercio (CBU o CVU)."}),"\n",(0,a.jsxs)(n.li,{children:["mcc: C\xf3digo de categor\xeda del comercio (Merchant Category Code) seg\xfan ",(0,a.jsx)(n.a,{href:"https://www.bcra.gob.ar/Pdfs/SistemasFinancierosYdePagos/MCC_VISA_AFIP_2022_6_2.pdf",children:"BCRA"})]}),"\n",(0,a.jsx)(n.li,{children:"image: URL de la imagen del comercio (opcional)."}),"\n",(0,a.jsx)(n.li,{children:"postal_code: C\xf3digo postal del comercio."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Order"}),":  Detalles sobre la orden de compra."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"id: Identificador \xfanico de la orden."}),"\n",(0,a.jsx)(n.li,{children:"items:  Un array con informaci\xf3n sobre los productos o servicios adquiridos, incluyendo t\xedtulo, cantidad, precio unitario y descripci\xf3n."}),"\n",(0,a.jsx)(n.li,{children:"total_amount: Monto total de la orden (cuando el monto es cerrado)."}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Payment Methods Allowed"}),":  Especifica los m\xe9todos de pago aceptados."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"URL del comercio"}),":   La API tambien sirve para obtener la url del adquirente que procesa el pago para obtener la informacion del comercio."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Otros campos"}),":    La API puede retornar otro campos dependiendo de la necesidad del adquirente."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"ejemplo",children:"Ejemplo"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-json",children:'{\n    "status": "open_amount",\n    "administrator": {\n        "identification_number": "30598910045",\n        "name": "PRISMA"\n    },\n    "collector": {\n        "name": "E-Pagos",\n        "identification_number": "30715084291",\n        "account": "3220001805006298690016",\n        "mcc": "9399",\n        "postal_code": "CPA1638A",\n        "image": ""\n    },\n    "order": {\n        "items": [\n            {\n                "title": "E-Pagos",\n                "description": "E-Pagos - 2536923",\n                "quantity": 1,\n                "unit_price": 1,\n                "currency_id": "ARS"\n            }\n        ],\n        "id": "BF5C7C20-EC21-4B14-BD77-930BB10CAD79",\n        "min_amount": 1\n    },\n    "additional_info": []\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}},28453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>d});var i=o(96540);const a={},r=i.createContext(a);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);